version: "3"
services:
  web:
    build:
      context: code 
      dockerfile: dockerfile
    ports:
      - "80:5000"
    environment:
      - AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
      - AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
    container_name: web
    networks:
      - default
      - read_sign_network

  # cron:
  #   build:
  #     context: ../02_cron
  #     dockerfile: Dockerfile
  #   container_name: cron
  #   depends_on:
  #     - web
  #   ports:
  #     - "80"
  #   networks:
  #     - default
  #     - read_sign_network

  # Janson model container 
  # services: 
  #   dl_model:
  #     build:
  #       context: ../src
  #       dockerfile: dockerfile
  #     ports:
  #       - "80:80"
  #       - AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
  #       - AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}



networks:
   read_sign_network:
